this.io={version:"0.5.3",setPath:function(a){this.path=/\/$/.test(a)?a:a+"/";if("WebSocket" in window){WebSocket.__swfLocation=a+"lib/vendor/web-socket-js/WebSocketMain.swf";}}};if("jQuery" in this){jQuery.io=this.io;}io.util={inherit:function(c,a){for(var b in a.prototype){c.prototype[b]=a.prototype[b];}},indexOf:function(a,d,e){for(var b=a.length,c=(e<0)?Math.max(0,b+e):e||0;c<b;c++){if(a[c]===d){return c;}}return -1;},isArray:function(a){return Object.prototype.toString.call(a)==="[object Array]";}};(function(){var a="~m~",b=io.Transport=function(d,c){this.base=d;this.options=c;};b.prototype.send=function(){throw new Error("Missing send() implementation");};b.prototype.connect=function(){throw new Error("Missing connect() implementation");};b.prototype.disconnect=function(){throw new Error("Missing disconnect() implementation");};b.prototype._encode=function(g){var d="",f,g=io.util.isArray(g)?g:[g];for(var e=0,c=g.length;e<c;e++){f=g[e]===null||g[e]===undefined?"":String(g[e]);d+=a+f.length+a+f;}return d;};b.prototype._decode=function(g){var f=[],e,h;do{if(g.substr(0,3)!==a){return f;}g=g.substr(3);e="",h="";for(var d=0,c=g.length;d<c;d++){h=Number(g.substr(d,1));if(g.substr(d,1)==h){e+=h;}else{g=g.substr(e.length+a.length);e=Number(e);break;}}f.push(g.substr(0,e));g=g.substr(e);}while(g!=="");return f;};b.prototype._onData=function(f){var e=this._decode(f);if(e){for(var d=0,c=e.length;d<c;d++){this._onMessage(e[d]);}}};b.prototype._onMessage=function(c){if(!("sessionid" in this)){this.sessionid=c;this._onConnect();}else{if(c.substr(0,3)=="~h~"){this._onHeartbeat(c.substr(3));}else{this.base._onMessage(c);}}},b.prototype._onHeartbeat=function(c){this.send("~h~"+c);};b.prototype._onConnect=function(){this.connected=true;this.base._onConnect();};b.prototype._onDisconnect=function(){if(!this.connected){return;}this.connected=false;this.base._onDisconnect();};b.prototype._prepareUrl=function(){return(this.base.options.secure?"https":"http")+"://"+this.base.host+":"+this.base.options.port+"/"+this.base.options.resource+"/"+this.type+(this.sessionid?("/"+this.sessionid):"/");};})();(function(){var c=new Function,b=function(g){if("XDomainRequest" in window&&g){return new XDomainRequest();}if("XMLHttpRequest" in window){return new XMLHttpRequest();}try{var f=new ActiveXObject("MSXML2.XMLHTTP");return f;}catch(h){}try{var d=new ActiveXObject("Microsoft.XMLHTTP");return d;}catch(h){}return false;},a=io.Transport.XHR=function(){io.Transport.apply(this,arguments);};io.util.inherit(a,io.Transport);a.prototype.connect=function(){if(!("_sendBuffer" in this)){this._sendBuffer=[];}this._get();return this;};a.prototype._checkSend=function(){if(!this._posting&&this._sendBuffer.length){var d=this._encode(this._sendBuffer);this._sendBuffer=[];this._send(d);}};a.prototype.send=function(d){if(io.util.isArray(d)){this._sendBuffer.push.apply(this._sendBuffer,d);}else{this._sendBuffer.push(d);}this._checkSend();return this;};a.prototype._send=function(e){var d=this;this._posting=true;this._sendXhr=this._request("send","POST");this._sendXhr.send("data="+encodeURIComponent(e));this._sendXhr.onreadystatechange=function(){var f;if(d._sendXhr.readyState==4){d._sendXhr.onreadystatechange=c;try{f=d._sendXhr.status;}catch(g){}if(f==200){d._posting=false;d._checkSend();}}};},a.prototype.disconnect=function(){if(this._xhr){this._xhr.onreadystatechange=this._xhr.onload=c;this._xhr.abort();}if(this._sendXhr){this._sendXhr.onreadystatechange=this._sendXhr.onload=c;this._sendXhr.abort();}this._onClose();this._onDisconnect();return this;};a.prototype._request=function(e,g,d){var f=b(this.base._isXDomain());if(d){f.multipart=true;}f.open(g||"GET",this._prepareUrl()+(e?"/"+e:""));if(g=="POST"){f.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=utf-8");}return f;};a.check=function(){try{if(b()){return true;}}catch(d){}return false;};a.request=b;})();(function(){var a=io.Transport.websocket=function(){io.Transport.apply(this,arguments);};io.util.inherit(a,io.Transport);a.prototype.type="websocket";a.prototype.connect=function(){var b=this;this.socket=new WebSocket(this._prepareUrl());this.socket.onmessage=function(c){b._onData(c.data);};this.socket.onclose=function(c){b._onClose();};return this;};a.prototype.send=function(b){this.socket.send(this._encode(b));return this;};a.prototype.disconnect=function(){this.socket.close();return this;};a.prototype._onClose=function(){this._onDisconnect();return this;};a.prototype._prepareUrl=function(){return(this.base.options.secure?"wss":"ws")+"://"+this.base.host+":"+this.base.options.port+"/"+this.base.options.resource+"/"+this.type+(this.sessionid?("/"+this.sessionid):"");};a.check=function(){return"WebSocket" in window&&!("__initialize" in WebSocket);};a.xdomainCheck=function(){return true;};})();(function(){var a=io.Transport.flashsocket=function(){io.Transport.websocket.apply(this,arguments);};io.util.inherit(a,io.Transport.websocket);a.prototype.type="flashsocket";a.prototype._onClose=function(){if(!this.base.connected){this.base.options.transports.splice(io.util.indexOf(this.base.options.transports,"flashsocket"),1);this.base.transport=this.base.getTransport();this.base.connect();return;}return io.Transport.websocket.prototype._onClose.call(this);};a.check=function(){if(!("path" in io)){throw new Error("The `flashsocket` transport requires that you call io.setPath() with the path to the socket.io client dir.");}if("navigator" in window&&"plugins" in navigator&&navigator.plugins["Shockwave Flash"]){return !!navigator.plugins["Shockwave Flash"].description;}if("ActiveXObject" in window){try{return !!new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version");}catch(b){}}return false;};a.xdomainCheck=function(){return true;};})();(function(){var a=io.Transport.htmlfile=function(){io.Transport.XHR.apply(this,arguments);};io.util.inherit(a,io.Transport.XHR);a.prototype.type="htmlfile";a.prototype._get=function(){var b=this;this._open();window.attachEvent("onunload",function(){b._destroy();});};a.prototype._open=function(){this._doc=new ActiveXObject("htmlfile");this._doc.open();this._doc.write("<html></html>");this._doc.parentWindow.s=this;this._doc.close();var b=this._doc.createElement("div");this._doc.body.appendChild(b);this._iframe=this._doc.createElement("iframe");b.appendChild(this._iframe);this._iframe.src=this._prepareUrl()+"/"+(+new Date);};a.prototype._=function(c,d){this._onData(c);var b=d.getElementsByTagName("script")[0];b.parentNode.removeChild(b);};a.prototype._destroy=function(){this._iframe.src="about:blank";this._doc=null;CollectGarbage();};a.prototype.disconnect=function(){this._destroy();return io.Transport.XHR.prototype.disconnect.call(this);};a.check=function(){if("ActiveXObject" in window){try{var b=new ActiveXObject("htmlfile");return b&&io.Transport.XHR.check();}catch(c){}}return false;};a.xdomainCheck=function(){return false;};})();(function(){var a=io.Transport["xhr-multipart"]=function(){io.Transport.XHR.apply(this,arguments);};io.util.inherit(a,io.Transport.XHR);a.prototype.type="xhr-multipart";a.prototype._get=function(){var b=this;this._xhr=this._request("","GET",true);this._xhr.onreadystatechange=function(){if(b._xhr.readyState==3){b._onData(b._xhr.responseText);}};this._xhr.send();};a.check=function(){return"XMLHttpRequest" in window&&"multipart" in XMLHttpRequest.prototype;};a.xdomainCheck=function(){return true;};})();(function(){var a=new Function(),b=io.Transport["xhr-polling"]=function(){io.Transport.XHR.apply(this,arguments);};io.util.inherit(b,io.Transport.XHR);b.prototype.type="xhr-polling";b.prototype._get=function(){var c=this;this._xhr=this._request(+new Date,"GET");if("onload" in this._xhr){this._xhr.onload=function(){if(this.responseText.length){c._onData(this.responseText);}c.connect();};}else{this._xhr.onreadystatechange=function(){var d;if(c._xhr.readyState==4){c._xhr.onreadystatechange=a;try{d=c._xhr.status;}catch(f){}if(d==200){if(c._xhr.responseText.length){c._onData(c._xhr.responseText);}c.connect();}}};}this._xhr.send();};b.check=function(){return io.Transport.XHR.check();};b.xdomainCheck=function(){return"XDomainRequest" in window||"XMLHttpRequest" in window;};})();(function(){var a=io.Socket=function(d,b){this.host=d||document.domain;this.options={secure:false,document:document,heartbeatInterval:4000,port:document.location.port||80,resource:"socket.io",transports:["websocket","flashsocket","htmlfile","xhr-multipart","xhr-polling"],transportOptions:{},rememberTransport:false};for(var c in b){this.options[c]=b[c];}this.connected=false;this.connecting=false;this._events={};this.transport=this.getTransport();if(!this.transport&&"console" in window){console.error("No transport available");}};a.prototype.getTransport=function(){var b=this.options.transports,c;if(this.options.rememberTransport){c=this.options.document.cookie.match("(?:^|;)\\s*socket.io=([^;]*)");if(c){b=[decodeURIComponent(c[1])];}}for(var d=0,e;e=b[d];d++){if(io.Transport[e]&&io.Transport[e].check()&&(!this._isXDomain()||io.Transport[e].xdomainCheck())){return new io.Transport[e](this,this.options.transportOptions[e]||{});}}return null;};a.prototype.connect=function(){if(this.transport&&!this.connected&&!this.connecting){this.connecting=true;this.transport.connect();}return this;};a.prototype.send=function(b){if(!this.transport||!this.transport.connected){return this._queue(b);}this.transport.send(b);return this;};a.prototype.disconnect=function(){this.transport.disconnect();return this;};a.prototype.on=function(b,c){if(!(b in this._events)){this._events[b]=[];}this._events[b].push(c);return this;};a.prototype.fire=function(c,b){if(c in this._events){for(var d in this._events[c]){this._events[c][d].apply(this,b);}}return this;};a.prototype.removeEvent=function(d,f){if(d in this._events){for(var e in this._events[d]){for(var c=0,b=this._events[d].length;c<b;c++){if(this._events[d][c]==f){this._events[d].splice(c,1);}}}}return this;};a.prototype._queue=function(b){if(!("_queueStack" in this)){this._queueStack=[];}this._queueStack.push(b);return this;};a.prototype._doQueue=function(){if(!("_queueStack" in this)||!this._queueStack.length){return this;}this.transport.send(this._queueStack);this._queueStack=[];return this;};a.prototype._isXDomain=function(){return this.host!==document.domain;};a.prototype._onConnect=function(){this.connected=true;this.connecting=false;this._doQueue();if(this.options.rememberTransport){this.options.document.cookie="socket.io="+encodeURIComponent(this.transport.type);}this.fire("connect");};a.prototype._onMessage=function(b){this.fire("message",[b]);};a.prototype._onDisconnect=function(){this.fire("disconnect");};a.prototype.addListener=a.prototype.addEvent=a.prototype.addEventListener=a.prototype.on;})();var swfobject=function(){var aq="undefined",aD="object",ab="Shockwave Flash",X="ShockwaveFlash.ShockwaveFlash",aE="application/x-shockwave-flash",ac="SWFObjectExprInst",ax="onreadystatechange",af=window,aL=document,aB=navigator,aa=false,Z=[aN],aG=[],ag=[],al=[],aJ,ad,ap,at,ak=false,aU=false,aH,an,aI=true,ah=function(){var a=typeof aL.getElementById!=aq&&typeof aL.getElementsByTagName!=aq&&typeof aL.createElement!=aq,e=aB.userAgent.toLowerCase(),c=aB.platform.toLowerCase(),h=c?/win/.test(c):/win/.test(e),j=c?/mac/.test(c):/mac/.test(e),g=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,d=!+"\v1",f=[0,0,0],k=null;if(typeof aB.plugins!=aq&&typeof aB.plugins[ab]==aD){k=aB.plugins[ab].description;if(k&&!(typeof aB.mimeTypes!=aq&&aB.mimeTypes[aE]&&!aB.mimeTypes[aE].enabledPlugin)){aa=true;d=false;k=k.replace(/^.*\s+(\S+\s+\S+$)/,"$1");f[0]=parseInt(k.replace(/^(.*)\..*$/,"$1"),10);f[1]=parseInt(k.replace(/^.*\.(.*)\s.*$/,"$1"),10);f[2]=/[a-zA-Z]/.test(k)?parseInt(k.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0;}}else{if(typeof af.ActiveXObject!=aq){try{var i=new ActiveXObject(X);if(i){k=i.GetVariable("$version");if(k){d=true;k=k.split(" ")[1].split(",");f=[parseInt(k[0],10),parseInt(k[1],10),parseInt(k[2],10)];}}}catch(b){}}}return{w3:a,pv:f,wk:g,ie:d,win:h,mac:j};}(),aK=function(){if(!ah.w3){return;}if((typeof aL.readyState!=aq&&aL.readyState=="complete")||(typeof aL.readyState==aq&&(aL.getElementsByTagName("body")[0]||aL.body))){aP();}if(!ak){if(typeof aL.addEventListener!=aq){aL.addEventListener("DOMContentLoaded",aP,false);}if(ah.ie&&ah.win){aL.attachEvent(ax,function(){if(aL.readyState=="complete"){aL.detachEvent(ax,arguments.callee);aP();}});if(af==top){(function(){if(ak){return;}try{aL.documentElement.doScroll("left");}catch(a){setTimeout(arguments.callee,0);return;}aP();})();}}if(ah.wk){(function(){if(ak){return;}if(!/loaded|complete/.test(aL.readyState)){setTimeout(arguments.callee,0);return;}aP();})();}aC(aP);}}();function aP(){if(ak){return;}try{var b=aL.getElementsByTagName("body")[0].appendChild(ar("span"));b.parentNode.removeChild(b);}catch(a){return;}ak=true;var d=Z.length;for(var c=0;c<d;c++){Z[c]();}}function aj(a){if(ak){a();}else{Z[Z.length]=a;}}function aC(a){if(typeof af.addEventListener!=aq){af.addEventListener("load",a,false);}else{if(typeof aL.addEventListener!=aq){aL.addEventListener("load",a,false);}else{if(typeof af.attachEvent!=aq){aM(af,"onload",a);}else{if(typeof af.onload=="function"){var b=af.onload;af.onload=function(){b();a();};}else{af.onload=a;}}}}}function aN(){if(aa){Y();}else{am();}}function Y(){var d=aL.getElementsByTagName("body")[0];var b=ar(aD);b.setAttribute("type",aE);var a=d.appendChild(b);if(a){var c=0;(function(){if(typeof a.GetVariable!=aq){var e=a.GetVariable("$version");if(e){e=e.split(" ")[1].split(",");ah.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)];}}else{if(c<10){c++;setTimeout(arguments.callee,10);return;}}d.removeChild(b);a=null;am();})();}else{am();}}function am(){var g=aG.length;if(g>0){for(var h=0;h<g;h++){var c=aG[h].id;var l=aG[h].callbackFn;var a={success:false,id:c};if(ah.pv[0]>0){var i=aS(c);if(i){if(ao(aG[h].swfVersion)&&!(ah.wk&&ah.wk<312)){ay(c,true);if(l){a.success=true;a.ref=av(c);l(a);}}else{if(aG[h].expressInstall&&au()){var e={};e.data=aG[h].expressInstall;e.width=i.getAttribute("width")||"0";e.height=i.getAttribute("height")||"0";if(i.getAttribute("class")){e.styleclass=i.getAttribute("class");}if(i.getAttribute("align")){e.align=i.getAttribute("align");}var f={};var d=i.getElementsByTagName("param");var k=d.length;for(var j=0;j<k;j++){if(d[j].getAttribute("name").toLowerCase()!="movie"){f[d[j].getAttribute("name")]=d[j].getAttribute("value");}}ae(e,f,c,l);}else{aF(i);if(l){l(a);}}}}}else{ay(c,true);if(l){var b=av(c);if(b&&typeof b.SetVariable!=aq){a.success=true;a.ref=b;}l(a);}}}}}function av(b){var d=null;var c=aS(b);if(c&&c.nodeName=="OBJECT"){if(typeof c.SetVariable!=aq){d=c;}else{var a=c.getElementsByTagName(aD)[0];if(a){d=a;}}}return d;}function au(){return !aU&&ao("6.0.65")&&(ah.win||ah.mac)&&!(ah.wk&&ah.wk<312);}function ae(f,d,h,e){aU=true;ap=e||null;at={success:false,id:h};var a=aS(h);if(a){if(a.nodeName=="OBJECT"){aJ=aO(a);ad=null;}else{aJ=a;ad=h;}f.id=ac;if(typeof f.width==aq||(!/%$/.test(f.width)&&parseInt(f.width,10)<310)){f.width="310";}if(typeof f.height==aq||(!/%$/.test(f.height)&&parseInt(f.height,10)<137)){f.height="137";}aL.title=aL.title.slice(0,47)+" - Flash Player Installation";var b=ah.ie&&ah.win?"ActiveX":"PlugIn",c="MMredirectURL="+af.location.toString().replace(/&/g,"%26")+"&MMplayerType="+b+"&MMdoctitle="+aL.title;if(typeof d.flashvars!=aq){d.flashvars+="&"+c;}else{d.flashvars=c;}if(ah.ie&&ah.win&&a.readyState!=4){var g=ar("div");h+="SWFObjectNew";g.setAttribute("id",h);a.parentNode.insertBefore(g,a);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a);}else{setTimeout(arguments.callee,10);}})();}aA(f,d,h);}}function aF(a){if(ah.ie&&ah.win&&a.readyState!=4){var b=ar("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(aO(a),b);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a);}else{setTimeout(arguments.callee,10);}})();}else{a.parentNode.replaceChild(aO(a),a);}}function aO(b){var d=ar("div");if(ah.win&&ah.ie){d.innerHTML=b.innerHTML;}else{var e=b.getElementsByTagName(aD)[0];if(e){var a=e.childNodes;if(a){var f=a.length;for(var c=0;c<f;c++){if(!(a[c].nodeType==1&&a[c].nodeName=="PARAM")&&!(a[c].nodeType==8)){d.appendChild(a[c].cloneNode(true));}}}}}return d;}function aA(e,g,c){var d,a=aS(c);if(ah.wk&&ah.wk<312){return d;}if(a){if(typeof e.id==aq){e.id=c;}if(ah.ie&&ah.win){var f="";for(var i in e){if(e[i]!=Object.prototype[i]){if(i.toLowerCase()=="data"){g.movie=e[i];}else{if(i.toLowerCase()=="styleclass"){f+=' class="'+e[i]+'"';}else{if(i.toLowerCase()!="classid"){f+=" "+i+'="'+e[i]+'"';}}}}}var h="";for(var j in g){if(g[j]!=Object.prototype[j]){h+='<param name="'+j+'" value="'+g[j]+'" />';}}a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>";ag[ag.length]=e.id;d=aS(e.id);}else{var b=ar(aD);b.setAttribute("type",aE);for(var k in e){if(e[k]!=Object.prototype[k]){if(k.toLowerCase()=="styleclass"){b.setAttribute("class",e[k]);}else{if(k.toLowerCase()!="classid"){b.setAttribute(k,e[k]);}}}}for(var l in g){if(g[l]!=Object.prototype[l]&&l.toLowerCase()!="movie"){aQ(b,l,g[l]);}}a.parentNode.replaceChild(b,a);d=b;}}return d;}function aQ(b,d,c){var a=ar("param");a.setAttribute("name",d);a.setAttribute("value",c);b.appendChild(a);}function aw(a){var b=aS(a);if(b&&b.nodeName=="OBJECT"){if(ah.ie&&ah.win){b.style.display="none";(function(){if(b.readyState==4){aT(a);}else{setTimeout(arguments.callee,10);}})();}else{b.parentNode.removeChild(b);}}}function aT(a){var b=aS(a);if(b){for(var c in b){if(typeof b[c]=="function"){b[c]=null;}}b.parentNode.removeChild(b);}}function aS(a){var c=null;try{c=aL.getElementById(a);}catch(b){}return c;}function ar(a){return aL.createElement(a);}function aM(a,c,b){a.attachEvent(c,b);al[al.length]=[a,c,b];}function ao(a){var b=ah.pv,c=a.split(".");c[0]=parseInt(c[0],10);c[1]=parseInt(c[1],10)||0;c[2]=parseInt(c[2],10)||0;return(b[0]>c[0]||(b[0]==c[0]&&b[1]>c[1])||(b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]))?true:false;}function az(b,f,a,c){if(ah.ie&&ah.mac){return;}var e=aL.getElementsByTagName("head")[0];if(!e){return;}var g=(a&&typeof a=="string")?a:"screen";if(c){aH=null;an=null;}if(!aH||an!=g){var d=ar("style");d.setAttribute("type","text/css");d.setAttribute("media",g);aH=e.appendChild(d);if(ah.ie&&ah.win&&typeof aL.styleSheets!=aq&&aL.styleSheets.length>0){aH=aL.styleSheets[aL.styleSheets.length-1];}an=g;}if(ah.ie&&ah.win){if(aH&&typeof aH.addRule==aD){aH.addRule(b,f);}}else{if(aH&&typeof aL.createTextNode!=aq){aH.appendChild(aL.createTextNode(b+" {"+f+"}"));}}}function ay(a,c){if(!aI){return;}var b=c?"visible":"hidden";if(ak&&aS(a)){aS(a).style.visibility=b;}else{az("#"+a,"visibility:"+b);}}function ai(b){var a=/[\\\"<>\.;]/;var c=a.exec(b)!=null;return c&&typeof encodeURIComponent!=aq?encodeURIComponent(b):b;}var aR=function(){if(ah.ie&&ah.win){window.attachEvent("onunload",function(){var a=al.length;for(var b=0;b<a;b++){al[b][0].detachEvent(al[b][1],al[b][2]);}var d=ag.length;for(var c=0;c<d;c++){aw(ag[c]);}for(var e in ah){ah[e]=null;}ah=null;for(var f in swfobject){swfobject[f]=null;}swfobject=null;});}}();return{registerObject:function(a,e,c,b){if(ah.w3&&a&&e){var d={};d.id=a;d.swfVersion=e;d.expressInstall=c;d.callbackFn=b;aG[aG.length]=d;ay(a,false);}else{if(b){b({success:false,id:a});}}},getObjectById:function(a){if(ah.w3){return av(a);}},embedSWF:function(k,e,h,f,c,a,b,i,g,j){var d={success:false,id:e};if(ah.w3&&!(ah.wk&&ah.wk<312)&&k&&e&&h&&f&&c){ay(e,false);aj(function(){h+="";f+="";var q={};if(g&&typeof g===aD){for(var o in g){q[o]=g[o];}}q.data=k;q.width=h;q.height=f;var n={};if(i&&typeof i===aD){for(var p in i){n[p]=i[p];}}if(b&&typeof b===aD){for(var l in b){if(typeof n.flashvars!=aq){n.flashvars+="&"+l+"="+b[l];}else{n.flashvars=l+"="+b[l];}}}if(ao(c)){var m=aA(q,n,e);if(q.id==e){ay(e,true);}d.success=true;d.ref=m;}else{if(a&&au()){q.data=a;ae(q,n,e,j);return;}else{ay(e,true);}}if(j){j(d);}});}else{if(j){j(d);}}},switchOffAutoHideShow:function(){aI=false;},ua:ah,getFlashPlayerVersion:function(){return{major:ah.pv[0],minor:ah.pv[1],release:ah.pv[2]};},hasFlashPlayerVersion:ao,createSWF:function(a,b,c){if(ah.w3){return aA(a,b,c);}else{return undefined;}},showExpressInstall:function(b,a,d,c){if(ah.w3&&au()){ae(b,a,d,c);}},removeSWF:function(a){if(ah.w3){aw(a);}},createCSS:function(b,a,c,d){if(ah.w3){az(b,a,c,d);}},addDomLoadEvent:aj,addLoadEvent:aC,getQueryParamValue:function(b){var a=aL.location.search||aL.location.hash;if(a){if(/\?/.test(a)){a=a.split("?")[1];}if(b==null){return ai(a);}var c=a.split("&");for(var d=0;d<c.length;d++){if(c[d].substring(0,c[d].indexOf("="))==b){return ai(c[d].substring((c[d].indexOf("=")+1)));}}}return"";},expressInstallCallback:function(){if(aU){var a=aS(ac);if(a&&aJ){a.parentNode.replaceChild(aJ,a);if(ad){ay(ad,true);if(ah.ie&&ah.win){aJ.style.display="block";}}if(ap){ap(at);}}aU=false;}}};}();function FABridge(b,a){this.target=b;this.remoteTypeCache={};this.remoteInstanceCache={};this.remoteFunctionCache={};this.localFunctionCache={};this.bridgeID=FABridge.nextBridgeID++;this.name=a;this.nextLocalFuncID=0;FABridge.instances[this.name]=this;FABridge.idMap[this.bridgeID]=this;return this;}FABridge.TYPE_ASINSTANCE=1;FABridge.TYPE_ASFUNCTION=2;FABridge.TYPE_JSFUNCTION=3;FABridge.TYPE_ANONYMOUS=4;FABridge.initCallbacks={};FABridge.userTypes={};FABridge.addToUserTypes=function(){for(var a=0;a<arguments.length;a++){FABridge.userTypes[arguments[a]]={"typeName":arguments[a],"enriched":false};}};FABridge.argsToArray=function(b){var a=[];for(var c=0;c<b.length;c++){a[c]=b[c];}return a;};function instanceFactory(a){this.fb_instance_id=a;return this;}function FABridge__invokeJSFunction(a){var c=a[0];var b=a.concat();b.shift();var d=FABridge.extractBridgeFromID(c);return d.invokeLocalFunction(c,b);}FABridge.addInitializationCallback=function(b,d){var c=FABridge.instances[b];if(c!=undefined){d.call(c);return;}var a=FABridge.initCallbacks[b];if(a==null){FABridge.initCallbacks[b]=a=[];}a.push(d);};function FABridge__bridgeInitialized(g){var a=document.getElementsByTagName("object");var f=a.length;var d=[];if(f>0){for(var u=0;u<f;u++){if(typeof a[u].SetVariable!="undefined"){d[d.length]=a[u];}}}var n=document.getElementsByTagName("embed");var b=n.length;var t=[];if(b>0){for(var r=0;r<b;r++){if(typeof n[r].SetVariable!="undefined"){t[t.length]=n[r];}}}var c=d.length;var s=t.length;var h="bridgeName="+g;if((c==1&&!s)||(c==1&&s==1)){FABridge.attachBridge(d[0],g);}else{if(s==1&&!c){FABridge.attachBridge(t[0],g);}else{var v=false;if(c>1){for(var q=0;q<c;q++){var x=d[q].childNodes;for(var p=0;p<x.length;p++){var e=x[p];if(e.nodeType==1&&e.tagName.toLowerCase()=="param"&&e["name"].toLowerCase()=="flashvars"&&e["value"].indexOf(h)>=0){FABridge.attachBridge(d[q],g);v=true;break;}}if(v){break;}}}if(!v&&s>1){for(var o=0;o<s;o++){var w=t[o].attributes.getNamedItem("flashVars").nodeValue;if(w.indexOf(h)>=0){FABridge.attachBridge(t[o],g);break;}}}}}return true;}FABridge.nextBridgeID=0;FABridge.instances={};FABridge.idMap={};FABridge.refCount=0;FABridge.extractBridgeFromID=function(b){var a=(b>>16);return FABridge.idMap[a];};FABridge.attachBridge=function(a,c){var b=new FABridge(a,c);FABridge[c]=b;var e=FABridge.initCallbacks[c];if(e==null){return;}for(var d=0;d<e.length;d++){e[d].call(b);}delete FABridge.initCallbacks[c];};FABridge.blockedMethods={toString:true,get:true,set:true,call:true};FABridge.prototype={root:function(){return this.deserialize(this.target.getRoot());},releaseASObjects:function(){return this.target.releaseASObjects();},releaseNamedASObject:function(b){if(typeof(b)!="object"){return false;}else{var a=this.target.releaseNamedASObject(b.fb_instance_id);return a;}},create:function(a){return this.deserialize(this.target.create(a));},makeID:function(a){return(this.bridgeID<<16)+a;},getPropertyFromAS:function(b,a){if(FABridge.refCount>0){throw new Error("You are trying to call recursively into the Flash Player which is not allowed. In most cases the JavaScript setTimeout function, can be used as a workaround.");}else{FABridge.refCount++;retVal=this.target.getPropFromAS(b,a);retVal=this.handleError(retVal);FABridge.refCount--;return retVal;}},setPropertyInAS:function(c,b,a){if(FABridge.refCount>0){throw new Error("You are trying to call recursively into the Flash Player which is not allowed. In most cases the JavaScript setTimeout function, can be used as a workaround.");}else{FABridge.refCount++;retVal=this.target.setPropInAS(c,b,this.serialize(a));retVal=this.handleError(retVal);FABridge.refCount--;return retVal;}},callASFunction:function(b,a){if(FABridge.refCount>0){throw new Error("You are trying to call recursively into the Flash Player which is not allowed. In most cases the JavaScript setTimeout function, can be used as a workaround.");}else{FABridge.refCount++;retVal=this.target.invokeASFunction(b,this.serialize(a));retVal=this.handleError(retVal);FABridge.refCount--;return retVal;}},callASMethod:function(b,c,a){if(FABridge.refCount>0){throw new Error("You are trying to call recursively into the Flash Player which is not allowed. In most cases the JavaScript setTimeout function, can be used as a workaround.");}else{FABridge.refCount++;a=this.serialize(a);retVal=this.target.invokeASMethod(b,c,a);retVal=this.handleError(retVal);FABridge.refCount--;return retVal;}},invokeLocalFunction:function(d,b){var a;var c=this.localFunctionCache[d];if(c!=undefined){a=this.serialize(c.apply(null,this.deserialize(b)));}return a;},getTypeFromName:function(a){return this.remoteTypeCache[a];},createProxy:function(c,b){var d=this.getTypeFromName(b);instanceFactory.prototype=d;var a=new instanceFactory(c);this.remoteInstanceCache[c]=a;return a;},getProxy:function(a){return this.remoteInstanceCache[a];},addTypeDataToCache:function(d){newType=new ASProxy(this,d.name);var b=d.accessors;for(var c=0;c<b.length;c++){this.addPropertyToType(newType,b[c]);}var a=d.methods;for(var c=0;c<a.length;c++){if(FABridge.blockedMethods[a[c]]==undefined){this.addMethodToType(newType,a[c]);}}this.remoteTypeCache[newType.typeName]=newType;return newType;},addPropertyToType:function(a,e){var f=e.charAt(0);var b;var d;if(f>="a"&&f<="z"){d="get"+f.toUpperCase()+e.substr(1);b="set"+f.toUpperCase()+e.substr(1);}else{d="get"+e;b="set"+e;}a[b]=function(c){this.bridge.setPropertyInAS(this.fb_instance_id,e,c);};a[d]=function(){return this.bridge.deserialize(this.bridge.getPropertyFromAS(this.fb_instance_id,e));};},addMethodToType:function(a,b){a[b]=function(){return this.bridge.deserialize(this.bridge.callASMethod(this.fb_instance_id,b,FABridge.argsToArray(arguments)));};},getFunctionProxy:function(a){var b=this;if(this.remoteFunctionCache[a]==null){this.remoteFunctionCache[a]=function(){b.callASFunction(a,FABridge.argsToArray(arguments));};}return this.remoteFunctionCache[a];},getFunctionID:function(a){if(a.__bridge_id__==undefined){a.__bridge_id__=this.makeID(this.nextLocalFuncID++);this.localFunctionCache[a.__bridge_id__]=a;}return a.__bridge_id__;},serialize:function(d){var a={};var c=typeof(d);if(c=="number"||c=="string"||c=="boolean"||c==null||c==undefined){a=d;}else{if(d instanceof Array){a=[];for(var b=0;b<d.length;b++){a[b]=this.serialize(d[b]);}}else{if(c=="function"){a.type=FABridge.TYPE_JSFUNCTION;a.value=this.getFunctionID(d);}else{if(d instanceof ASProxy){a.type=FABridge.TYPE_ASINSTANCE;a.value=d.fb_instance_id;}else{a.type=FABridge.TYPE_ANONYMOUS;a.value=d;}}}}return a;},deserialize:function(e){var a;var c=typeof(e);if(c=="number"||c=="string"||c=="boolean"||e==null||e==undefined){a=this.handleError(e);}else{if(e instanceof Array){a=[];for(var b=0;b<e.length;b++){a[b]=this.deserialize(e[b]);}}else{if(c=="object"){for(var b=0;b<e.newTypes.length;b++){this.addTypeDataToCache(e.newTypes[b]);}for(var d in e.newRefs){this.createProxy(d,e.newRefs[d]);}if(e.type==FABridge.TYPE_PRIMITIVE){a=e.value;}else{if(e.type==FABridge.TYPE_ASFUNCTION){a=this.getFunctionProxy(e.value);}else{if(e.type==FABridge.TYPE_ASINSTANCE){a=this.getProxy(e.value);}else{if(e.type==FABridge.TYPE_ANONYMOUS){a=e.value;}}}}}}}return a;},addRef:function(a){this.target.incRef(a.fb_instance_id);},release:function(a){this.target.releaseRef(a.fb_instance_id);},handleError:function(b){if(typeof(b)=="string"&&b.indexOf("__FLASHERROR")==0){var a=b.split("||");if(FABridge.refCount>0){FABridge.refCount--;}throw new Error(a[1]);return b;}else{return b;}}};ASProxy=function(b,a){this.bridge=b;this.typeName=a;return this;};ASProxy.prototype={get:function(a){return this.bridge.deserialize(this.bridge.getPropertyFromAS(this.fb_instance_id,a));},set:function(b,a){this.bridge.setPropertyInAS(this.fb_instance_id,b,a);},call:function(b,a){this.bridge.callASMethod(this.fb_instance_id,b,a);},addRef:function(){this.bridge.addRef(this);},release:function(){this.bridge.release(this);}};(function(){if(window.WebSocket){return;}var b=window.console;if(!b){b={log:function(){},error:function(){}};}function a(){if("navigator" in window&&"plugins" in navigator&&navigator.plugins["Shockwave Flash"]){return !!navigator.plugins["Shockwave Flash"].description;}if("ActiveXObject" in window){try{return !!new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version");}catch(d){}}return false;}if(!a()){b.error("Flash Player is not installed.");return;}b.log(location.protocol);if(location.protocol=="file:"){b.error("web-socket-js doesn't work in file:///... URL (without special configuration). "+"Open the page via Web server i.e. http://...");}WebSocket=function(f,i,e,h,g){var d=this;d.readyState=WebSocket.CONNECTING;d.bufferedAmount=0;setTimeout(function(){WebSocket.__addTask(function(){d.__createFlash(f,i,e,h,g);});},1);};WebSocket.prototype.__createFlash=function(f,i,e,h,g){var d=this;d.__flash=WebSocket.__flash.create(f,i,e||null,h||0,g||null);d.__flash.addEventListener("open",function(j){try{d.readyState=d.__flash.getReadyState();if(d.__timer){clearInterval(d.__timer);}if(window.opera){d.__timer=setInterval(function(){d.__handleMessages();},500);}if(d.onopen){d.onopen();}}catch(k){b.error(k.toString());}});d.__flash.addEventListener("close",function(j){try{d.readyState=d.__flash.getReadyState();if(d.__timer){clearInterval(d.__timer);}if(d.onclose){d.onclose();}}catch(k){b.error(k.toString());}});d.__flash.addEventListener("message",function(){try{d.__handleMessages();}catch(j){b.error(j.toString());}});d.__flash.addEventListener("error",function(j){try{if(d.__timer){clearInterval(d.__timer);}if(d.onerror){d.onerror();}}catch(k){b.error(k.toString());}});d.__flash.addEventListener("stateChange",function(j){try{d.readyState=d.__flash.getReadyState();d.bufferedAmount=j.getBufferedAmount();}catch(k){b.error(k.toString());}});};WebSocket.prototype.send=function(e){if(this.__flash){this.readyState=this.__flash.getReadyState();}if(!this.__flash||this.readyState==WebSocket.CONNECTING){throw"INVALID_STATE_ERR: Web Socket connection has not been established";}var d=this.__flash.send(encodeURIComponent(e));if(d<0){return true;}else{this.bufferedAmount=d;return false;}};WebSocket.prototype.close=function(){if(!this.__flash){return;}this.readyState=this.__flash.getReadyState();if(this.readyState!=WebSocket.OPEN){return;}this.__flash.close();this.readyState=WebSocket.CLOSED;if(this.__timer){clearInterval(this.__timer);}if(this.onclose){this.onclose();}};WebSocket.prototype.addEventListener=function(e,f,d){if(!("__events" in this)){this.__events={};}if(!(e in this.__events)){this.__events[e]=[];if("function"==typeof this["on"+e]){this.__events[e].defaultHandler=this["on"+e];this["on"+e]=this.__createEventHandler(this,e);}}this.__events[e].push(f);};WebSocket.prototype.removeEventListener=function(f,g,d){if(!("__events" in this)){this.__events={};}if(!(f in this.__events)){return;}for(var e=this.__events.length;e>-1;--e){if(g===this.__events[f][e]){this.__events[f].splice(e,1);break;}}};WebSocket.prototype.dispatchEvent=function(f){if(!("__events" in this)){throw"UNSPECIFIED_EVENT_TYPE_ERR";}if(!(f.type in this.__events)){throw"UNSPECIFIED_EVENT_TYPE_ERR";}for(var e=0,d=this.__events[f.type].length;e<d;++e){this.__events[f.type][e](f);if(f.cancelBubble){break;}}if(false!==f.returnValue&&"function"==typeof this.__events[f.type].defaultHandler){this.__events[f.type].defaultHandler(f);}};WebSocket.prototype.__handleMessages=function(){var d=this.__flash.readSocketData();for(var f=0;f<d.length;f++){var g=decodeURIComponent(d[f]);try{if(this.onmessage){var h;if(window.MessageEvent){h=document.createEvent("MessageEvent");h.initMessageEvent("message",false,false,g,null,null,window,null);}else{h={data:g};}this.onmessage(h);}}catch(h){b.error(h.toString());}}};WebSocket.prototype.__createEventHandler=function(d,e){return function(h){var g=new c();g.initEvent(e,true,true);g.target=g.currentTarget=d;for(var f in h){g[f]=h[f];}d.dispatchEvent(g,arguments);};};function c(){}c.prototype.cancelable=true;c.prototype.cancelBubble=false;c.prototype.preventDefault=function(){if(this.cancelable){this.returnValue=false;}};c.prototype.stopPropagation=function(){this.cancelBubble=true;};c.prototype.initEvent=function(d,f,e){this.type=d;this.cancelable=e;this.timeStamp=new Date();};WebSocket.CONNECTING=0;WebSocket.OPEN=1;WebSocket.CLOSING=2;WebSocket.CLOSED=3;WebSocket.__tasks=[];WebSocket.__initialize=function(){if(WebSocket.__swfLocation){window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation;}if(!window.WEB_SOCKET_SWF_LOCATION){b.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf");return;}var d=document.createElement("div");d.id="webSocketContainer";d.style.position="absolute";d.style.left="-100px";d.style.top="-100px";var e=document.createElement("div");e.id="webSocketFlash";d.appendChild(e);document.body.appendChild(d);swfobject.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","8","8","9.0.0",null,{bridgeName:"webSocket"},null,null,function(f){if(!f.success){b.error("[WebSocket] swfobject.embedSWF failed");}});FABridge.addInitializationCallback("webSocket",function(){try{WebSocket.__flash=FABridge.webSocket.root();WebSocket.__flash.setCallerUrl(location.href);WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var f=0;f<WebSocket.__tasks.length;++f){WebSocket.__tasks[f]();}WebSocket.__tasks=[];}catch(g){b.error("[WebSocket] "+g.toString());}});};WebSocket.__addTask=function(d){if(WebSocket.__flash){d();}else{WebSocket.__tasks.push(d);}};window.webSocketLog=function(d){b.log(decodeURIComponent(d));};window.webSocketError=function(d){b.error(decodeURIComponent(d));};if(!window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION){if(window.addEventListener){window.addEventListener("load",WebSocket.__initialize,false);}else{window.attachEvent("onload",WebSocket.__initialize);}}})();